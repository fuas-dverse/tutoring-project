{"ast":null,"code":"import api from './http-common';\nimport jwtDecode from \"jwt-decode\";\nconst login = user => {\n  return api.post(`/auth/login`, user).then(response => {\n    if (response.data.accessToken) {\n      localStorage.setItem(\"user\", JSON.stringify(response.data));\n    }\n    return response.data;\n  });\n};\nconst logout = () => {\n  localStorage.removeItem(\"user\");\n};\nconst register = data => {\n  return api.post(`/auth/register`, data);\n};\nconst getCurrentUser = () => {\n  return JSON.parse(localStorage.getItem('user'));\n};\nconst getId = () => {\n  const token = localStorage.getItem(\"user\");\n  if (token) {\n    var user;\n    user = jwtDecode(token);\n    console.log(user);\n  } else {\n    user = {\n      userId: \"Null\"\n    };\n  }\n  return user.userId;\n};\nconst AuthenticationService = {\n  login,\n  logout,\n  register,\n  getCurrentUser,\n  getId\n};\nexport default AuthenticationService;","map":{"version":3,"names":["api","jwtDecode","login","user","post","then","response","data","accessToken","localStorage","setItem","JSON","stringify","logout","removeItem","register","getCurrentUser","parse","getItem","getId","token","console","log","userId","AuthenticationService"],"sources":["C:/Tutoring project/tutoring platform frontend/tutoringplatform/src/services/AuthenticationService.js"],"sourcesContent":["import api from './http-common';\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nconst login = (user) => {\r\n    return api.post(`/auth/login`, user)\r\n        .then((response) => {\r\n            if(response.data.accessToken){\r\n                localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n            }\r\n            return response.data;\r\n        });\r\n};\r\n\r\nconst logout = () => {\r\n    localStorage.removeItem(\"user\");\r\n}\r\n\r\nconst register = (data) =>{\r\n    return api.post(`/auth/register`, data);\r\n}\r\n\r\nconst getCurrentUser = () => {\r\n    return JSON.parse(localStorage.getItem('user'));\r\n}\r\n\r\nconst getId = () => {\r\n    const token = localStorage.getItem(\"user\");\r\n    if(token) {\r\n        var user;\r\n        user = jwtDecode(token);\r\n        console.log(user);\r\n    }else {\r\n        user = {\r\n            userId: \"Null\",\r\n        };\r\n    }\r\n    return user.userId;\r\n}\r\n\r\nconst AuthenticationService = {\r\n    login,\r\n    logout,\r\n    register,\r\n    getCurrentUser,\r\n    getId\r\n};\r\n\r\nexport default AuthenticationService;"],"mappings":"AAAA,OAAOA,GAAG,MAAM,eAAe;AAC/B,OAAOC,SAAS,MAAM,YAAY;AAElC,MAAMC,KAAK,GAAIC,IAAI,IAAK;EACpB,OAAOH,GAAG,CAACI,IAAI,CAAE,aAAY,EAAED,IAAI,CAAC,CAC/BE,IAAI,CAAEC,QAAQ,IAAK;IAChB,IAAGA,QAAQ,CAACC,IAAI,CAACC,WAAW,EAAC;MACzBC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACN,QAAQ,CAACC,IAAI,CAAC,CAAC;IAC/D;IACA,OAAOD,QAAQ,CAACC,IAAI;EACxB,CAAC,CAAC;AACV,CAAC;AAED,MAAMM,MAAM,GAAGA,CAAA,KAAM;EACjBJ,YAAY,CAACK,UAAU,CAAC,MAAM,CAAC;AACnC,CAAC;AAED,MAAMC,QAAQ,GAAIR,IAAI,IAAI;EACtB,OAAOP,GAAG,CAACI,IAAI,CAAE,gBAAe,EAAEG,IAAI,CAAC;AAC3C,CAAC;AAED,MAAMS,cAAc,GAAGA,CAAA,KAAM;EACzB,OAAOL,IAAI,CAACM,KAAK,CAACR,YAAY,CAACS,OAAO,CAAC,MAAM,CAAC,CAAC;AACnD,CAAC;AAED,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAChB,MAAMC,KAAK,GAAGX,YAAY,CAACS,OAAO,CAAC,MAAM,CAAC;EAC1C,IAAGE,KAAK,EAAE;IACN,IAAIjB,IAAI;IACRA,IAAI,GAAGF,SAAS,CAACmB,KAAK,CAAC;IACvBC,OAAO,CAACC,GAAG,CAACnB,IAAI,CAAC;EACrB,CAAC,MAAK;IACFA,IAAI,GAAG;MACHoB,MAAM,EAAE;IACZ,CAAC;EACL;EACA,OAAOpB,IAAI,CAACoB,MAAM;AACtB,CAAC;AAED,MAAMC,qBAAqB,GAAG;EAC1BtB,KAAK;EACLW,MAAM;EACNE,QAAQ;EACRC,cAAc;EACdG;AACJ,CAAC;AAED,eAAeK,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}